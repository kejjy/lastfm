(this.webpackJsonplastfm=this.webpackJsonplastfm||[]).push([[0],{135:function(t,e,a){"use strict";a.r(e);var c=a(0),n=a.n(c),r=a(12),i=a.n(r),s=(a(88),a(9)),o=a(61),j=a(174),l=a(177),b=a(169),d=(a(89),a(15)),h=a(170),u=a(175),O=a(172),x=a(165),v=a(5);var m=function(t){var e,a=Object(s.f)();return e=t.artist.image?Object(v.jsx)("img",{src:t.artist.image,alt:"".concat(t.artist.name)}):Object(v.jsx)("div",{children:"[No Image]"}),Object(v.jsx)("div",{children:Object(v.jsxs)(x.a,{container:!0,spacing:3,children:[Object(v.jsx)(x.a,{item:!0,xs:1,children:e}),Object(v.jsx)(x.a,{item:!0,xs:11,children:Object(v.jsx)(b.a,{variant:"h6",className:"artist-result",onClick:function(e){a.push({pathname:"/Artist",state:{artist:t.artist}})},children:t.artist.name})})]})})};var f=function(t){var e,a;return t.artists.length?a=Object(v.jsxs)(b.a,{variant:"h4",children:["Results (",t.artists.length,")"]}):t.searchClickedOnce&&(a=Object(v.jsx)(b.a,{variant:"h6",children:"No Results"})),Object(v.jsxs)("div",{children:[a,null===(e=t.artists)||void 0===e?void 0:e.map((function(t,e){return Object(v.jsx)(m,{artist:t},e)}))]})},p=a(30),g=a(43),k=a.n(g),y=a(27);function N(t,e){var a,c;return null===(a=t.image)||void 0===a||null===(c=a[e])||void 0===c?void 0:c["#text"]}var S=function(){var t=Object(c.useState)(""),e=Object(d.a)(t,2),a=e[0],n=e[1],r=Object(c.useState)([]),i=Object(d.a)(r,2),s=i[0],o=i[1],j=Object(c.useState)(!1),l=Object(d.a)(j,2),x=l[0],m=l[1];return Object(v.jsxs)("div",{children:[Object(v.jsx)(b.a,{variant:"h3",component:"h2",children:"Last.fm Search"}),Object(v.jsxs)(h.a,{children:[Object(v.jsx)(u.a,{id:"search-term",label:"Search for Artist",variant:"outlined",onChange:function(t){t.target.value&&n(t.target.value)}}),Object(v.jsx)(O.a,{variant:"contained",color:"primary",onClick:function(t){a.length&&function(t){return k.a.get("".concat(y.b,"/2.0/?method=artist.search&artist=").concat(t,"&api_key=").concat(y.a,"&format=json")).then((function(t){var e,a;return(null===(e=t.data)||void 0===e||null===(a=e.results)||void 0===a?void 0:a.artistmatches.artist).map((function(t){return Object(p.a)(Object(p.a)({},t),{},{image:N(t,1),imageLarge:N(t,4)})}))}))}(a).then((function(t){o(t),m(!0)}))},children:"Search"})]}),Object(v.jsx)(f,{artists:s,searchClickedOnce:x})]})},C=a(178),T=a(176),A=a(179),I=a(173);var E=a(78),F=a.n(E),L=a(77);var w=function(t){var e=Object(c.useState)([]),a=Object(d.a)(e,2),n=a[0],r=a[1];return Object(c.useEffect)((function(){var e;(e=t.artist.mbid,k.a.get("".concat(y.b,"/2.0/?method=artist.gettoptracks&mbid=").concat(e,"&api_key=").concat(y.a,"&format=json")).then((function(t){var e;return t.data.error?[]:(null===(e=t.data)||void 0===e?void 0:e.toptracks.track).map((function(t){return Object(p.a)({},t)}))}))).then((function(t){return r(t)}))}),[t.artist]),Object(v.jsxs)("div",{children:[Object(v.jsx)(b.a,{variant:"h5",children:"Top Tracks"}),0===n.length&&Object(v.jsx)(b.a,{children:"No top tracks for this artist."}),n.map((function(t,e){return Object(v.jsx)("div",{children:Object(v.jsxs)(b.a,{className:"track",children:[t.name," ",Object(v.jsxs)("span",{className:"plays",children:["(","".concat(t.playcount," plays"),")"]})]})},e)}))]})};var B=function(){var t,e,a=Object(s.g)().state.artist,n=Object(c.useState)(),r=Object(d.a)(n,2),i=r[0],o=r[1];return Object(c.useEffect)((function(){var t;(t=a.mbid,k.a.get("".concat(y.b,"/2.0/?method=artist.getinfo&mbid=").concat(t,"&api_key=").concat(y.a,"&format=json")).then((function(t){var e;if(t.data.error)return{name:"Error Ocurred",bio:{}};var a=null===(e=t.data)||void 0===e?void 0:e.artist;return Object(p.a)(Object(p.a)({},a),{},{ontour:0===a.ontour})}))).then((function(t){return o(t)}))}),[a]),e=(null===i||void 0===i?void 0:i.ontour)?Object(v.jsx)(C.a,{className:"tour-badge",label:"On Tour",color:"secondary"}):Object(v.jsx)(C.a,{className:"tour-badge",label:"Not On Tour",color:"primary"}),Object(v.jsx)("div",{children:Object(v.jsxs)(x.a,{container:!0,spacing:3,children:[Object(v.jsx)(x.a,{item:!0,xs:12,children:Object(v.jsxs)(b.a,{variant:"h4",children:[a.name,e]})}),Object(v.jsx)(x.a,{item:!0,xs:12,children:Object(v.jsxs)(T.a,{children:[Object(v.jsx)(A.a,{id:"bio-header",expandIcon:Object(v.jsx)(F.a,{}),children:Object(v.jsx)(b.a,{children:"Biography"})}),Object(v.jsx)(I.a,{children:Object(v.jsx)(b.a,{children:Object(L.a)(null!==(t=null===i||void 0===i?void 0:i.bio.content)&&void 0!==t?t:"No biography for this artist.")})})]})}),Object(v.jsx)(x.a,{item:!0,xs:12,children:Object(v.jsx)(w,{artist:a})})]})})};var J=function(){return Object(s.f)(),Object(v.jsx)("div",{className:"App",children:Object(v.jsx)(j.a,{maxWidth:"md",children:Object(v.jsx)(o.a,{children:Object(v.jsxs)(s.c,{children:[Object(v.jsxs)(s.a,{path:"/Artist",children:[Object(v.jsxs)(l.a,{"aria-label":"breadcrumb",children:[Object(v.jsx)(o.b,{color:"inherit",href:"/",to:"/",children:"Search Home"}),Object(v.jsx)(b.a,{color:"textPrimary",children:"Artist Information"})]}),Object(v.jsx)(B,{})]}),Object(v.jsx)(s.a,{path:"/",children:Object(v.jsx)(S,{})})]})})})})},P=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,181)).then((function(e){var a=e.getCLS,c=e.getFID,n=e.getFCP,r=e.getLCP,i=e.getTTFB;a(t),c(t),n(t),r(t),i(t)}))};i.a.render(Object(v.jsx)(n.a.StrictMode,{children:Object(v.jsx)(J,{})}),document.getElementById("root")),P()},27:function(t){t.exports=JSON.parse('{"b":"https://ws.audioscrobbler.com","a":"1c40f72613733431b6e47a72e9950a9b"}')},88:function(t,e,a){},89:function(t,e,a){}},[[135,1,2]]]);
//# sourceMappingURL=main.b877157f.chunk.js.map