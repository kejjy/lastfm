(this.webpackJsonplastfm=this.webpackJsonplastfm||[]).push([[0],{100:function(t,e,a){},146:function(t,e,a){"use strict";a.r(e);var c=a(0),n=a.n(c),r=a(12),i=a.n(r),s=(a(99),a(10)),o=a(68),j=a(188),u=a(193),l=a(181),b=(a(100),a(17)),d=a(13),O=a(182),h=a(191),v=a(190),f=a(177),x=a(5);var m=function(t){var e,a=Object(s.f)();return e=t.artist.image?Object(x.jsx)("img",{src:t.artist.image,alt:"".concat(t.artist.name)}):Object(x.jsx)("div",{children:"[No Image]"}),Object(x.jsx)("div",{children:Object(x.jsxs)(f.a,{container:!0,spacing:3,children:[Object(x.jsx)(f.a,{item:!0,xs:1,children:e}),Object(x.jsx)(f.a,{item:!0,xs:11,children:Object(x.jsx)(l.a,{variant:"h6",className:"artist-result",onClick:function(e){a.push({pathname:"/Artist",state:{artist:t.artist}})},children:t.artist.name})})]})})};var g=function(t){var e,a;return t.artists.length?a=Object(x.jsxs)(l.a,{variant:"h4",children:["Results (",t.artists.length,")"]}):t.searchClickedOnce&&(a=Object(x.jsx)(l.a,{variant:"h6",children:"No Results"})),Object(x.jsxs)("div",{children:[a,null===(e=t.artists)||void 0===e?void 0:e.map((function(t,e){return Object(x.jsx)(m,{artist:t},e)}))]})},p=a(49),P=a.n(p),k=a(31);function y(t,e){return P.a.get("".concat(k.b,"/2.0/?method=artist.search&artist=").concat(t,"&page=").concat(e,"&api_key=").concat(k.a,"&format=json")).then((function(t){var e,a,c=null===(e=t.data)||void 0===e?void 0:e.results,n=null===c||void 0===c?void 0:c.artistmatches.artist;return console.log(null===(a=t.data)||void 0===a?void 0:a.results),{artists:null===n||void 0===n?void 0:n.map((function(t){return function(t){return Object(b.a)(Object(b.a)({},t),{},{image:S(t,1),imageLarge:S(t,4)})}(t)})),totalResults:parseInt(c["opensearch:totalResults"]),itemsPerPage:parseInt(c["opensearch:itemsPerPage"]),startIndex:parseInt(c["opensearch:startIndex"])}}))}function S(t,e){var a,c;return null===(a=t.image)||void 0===a||null===(c=a[e])||void 0===c?void 0:c["#text"]}var N=function(){var t=Object(c.useState)(""),e=Object(d.a)(t,2),a=e[0],n=e[1],r=Object(c.useState)({total:0,currentPage:0,itemsPerPage:30}),i=Object(d.a)(r,2),s=i[0],o=i[1],j=Object(c.useState)([]),u=Object(d.a)(j,2),f=u[0],m=u[1],p=Object(c.useState)(!1),P=Object(d.a)(p,2),k=P[0],S=P[1],N=function(t,e){var a=Object(c.useState)(t),n=Object(d.a)(a,2),r=n[0],i=n[1];return Object(c.useEffect)((function(){var a=setTimeout((function(){i(t)}),e);return function(){clearTimeout(a)}}),[t,e]),r}(a,500);Object(c.useEffect)((function(){0===s.currentPage?I(s.currentPage):o(Object(b.a)(Object(b.a)({},s),{},{currentPage:0}))}),[N]),Object(c.useEffect)((function(){I(s.currentPage)}),[s.currentPage]);var I=function(t){(null===N||void 0===N?void 0:N.length)?y(N,t+1).then((function(t){o(Object(b.a)(Object(b.a)({},s),{},{total:t.totalResults})),m(t.artists),S(!0)})):(m([]),o(Object(b.a)(Object(b.a)({},s),{},{currentPage:0})))};return Object(x.jsxs)("div",{children:[Object(x.jsx)(l.a,{variant:"h3",component:"h2",children:"Last.fm Search"}),Object(x.jsx)(O.a,{children:Object(x.jsx)(h.a,{id:"search-term",label:"Start typing to search for an artist",variant:"outlined",onChange:function(t){n(t.target.value)}})}),!!(null===f||void 0===f?void 0:f.length)&&Object(x.jsx)(v.a,{component:"div",count:s.total,page:s.currentPage,onChangePage:function(t,e){o(Object(b.a)(Object(b.a)({},s),{},{currentPage:e}))},rowsPerPage:30,rowsPerPageOptions:[30]}),Object(x.jsx)(g,{artists:f,searchClickedOnce:k})]})},I=a(195),C=a(192),T=a(186),E=a(187);var w=a(84),R=a.n(w),A=a(83);var F=function(t){var e=Object(c.useState)([]),a=Object(d.a)(e,2),n=a[0],r=a[1];return Object(c.useEffect)((function(){var e;(e=t.artist.mbid,P.a.get("".concat(k.b,"/2.0/?method=artist.gettoptracks&mbid=").concat(e,"&api_key=").concat(k.a,"&format=json")).then((function(t){var e;return t.data.error?[]:(null===(e=t.data)||void 0===e?void 0:e.toptracks.track).map((function(t){return Object(b.a)({},t)}))}))).then((function(t){return r(t)}))}),[t.artist]),Object(x.jsxs)("div",{children:[Object(x.jsx)(l.a,{variant:"h5",children:"Top Tracks"}),0===n.length&&Object(x.jsx)(l.a,{children:"No top tracks for this artist."}),n.map((function(t,e){return Object(x.jsx)("div",{children:Object(x.jsxs)(l.a,{className:"track",children:[t.name," ",Object(x.jsxs)("span",{className:"plays",children:["(","".concat(t.playcount," plays"),")"]})]})},e)}))]})};var L=function(){var t,e,a=Object(s.g)().state.artist,n=Object(c.useState)(),r=Object(d.a)(n,2),i=r[0],o=r[1];return Object(c.useEffect)((function(){var t;(t=a.mbid,P.a.get("".concat(k.b,"/2.0/?method=artist.getinfo&mbid=").concat(t,"&api_key=").concat(k.a,"&format=json")).then((function(t){var e;if(t.data.error)return{name:"Error Ocurred",bio:{}};var a=null===(e=t.data)||void 0===e?void 0:e.artist;return Object(b.a)(Object(b.a)({},a),{},{ontour:0===a.ontour})}))).then((function(t){return o(t)}))}),[a]),e=(null===i||void 0===i?void 0:i.ontour)?Object(x.jsx)(I.a,{className:"tour-badge",label:"On Tour",color:"secondary"}):Object(x.jsx)(I.a,{className:"tour-badge",label:"Not On Tour",color:"primary"}),Object(x.jsx)("div",{children:Object(x.jsxs)(f.a,{container:!0,spacing:3,children:[Object(x.jsx)(f.a,{item:!0,xs:12,children:Object(x.jsxs)(l.a,{variant:"h4",children:[a.name,e]})}),Object(x.jsx)(f.a,{item:!0,xs:12,children:Object(x.jsxs)(C.a,{children:[Object(x.jsx)(T.a,{id:"bio-header",expandIcon:Object(x.jsx)(R.a,{}),children:Object(x.jsx)(l.a,{children:"Biography"})}),Object(x.jsx)(E.a,{children:Object(x.jsx)(l.a,{children:Object(A.a)(null!==(t=null===i||void 0===i?void 0:i.bio.content)&&void 0!==t?t:"No biography for this artist.")})})]})}),Object(x.jsx)(f.a,{item:!0,xs:12,children:Object(x.jsx)(F,{artist:a})})]})})};var B=function(){return Object(s.f)(),Object(x.jsx)("div",{className:"App",children:Object(x.jsx)(j.a,{maxWidth:"md",children:Object(x.jsx)(o.a,{children:Object(x.jsxs)(s.c,{children:[Object(x.jsxs)(s.a,{path:"/Artist",children:[Object(x.jsxs)(u.a,{"aria-label":"breadcrumb",children:[Object(x.jsx)(o.b,{color:"inherit",href:"/",to:"/",children:"Search Home"}),Object(x.jsx)(l.a,{color:"textPrimary",children:"Artist Information"})]}),Object(x.jsx)(L,{})]}),Object(x.jsx)(s.a,{path:"/",children:Object(x.jsx)(N,{})})]})})})})},J=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,197)).then((function(e){var a=e.getCLS,c=e.getFID,n=e.getFCP,r=e.getLCP,i=e.getTTFB;a(t),c(t),n(t),r(t),i(t)}))};i.a.render(Object(x.jsx)(n.a.StrictMode,{children:Object(x.jsx)(B,{})}),document.getElementById("root")),J()},31:function(t){t.exports=JSON.parse('{"b":"https://ws.audioscrobbler.com","a":"1c40f72613733431b6e47a72e9950a9b"}')},99:function(t,e,a){}},[[146,1,2]]]);
//# sourceMappingURL=main.4e51c595.chunk.js.map